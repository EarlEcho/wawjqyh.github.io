# linux软件管理

## 软件包分类

* 源码包（未编译的源码）
* 二进制包（RPM包、系统默认包，即编译过的）

### 源码包

#### 源码包优点

* 开源，可以修改源代码
* 可以自由选择所需的功能
* 软件是编译安装，所以更加适合自己的系统，更加稳定效率也更高
* 卸载方便（只要把安装目录删除）

#### 源码包的缺点

* 安装过程步骤较多，尤其安装较大的软件集合时，容易出现拼写错误
* 编译过程时间较长，安装比二进制安装时间长
* 因为是编译安装，安装过程中一旦报错新手很难解决

### RPM包（二进制包）

系统光盘里有大部分要用到的rpm包，挂载后就可以使用rpm安装

#### 优点

* 包管理系统简单，只通过几个命令就可以实现包的安装、升级查询和卸载
* 安装速度比源码包安装快的多

#### 缺点

* 经过编译，不再可以看到源代码
* 功能选择不如源码包灵活
* 依赖性（有可能会依赖其他的软件包，需要手动去安装）

#### 命名规则

```
httpd-2.2.15-15.el6.centos.1.i686.rpm
```

* `httpd` 软件包名
* `2.2.15` 软件版本
* `15` 软件发布的次数
* `el6.centos` 适合linux平台
* `i686` 适合的硬件平台
* `rpm` rpm包扩展名

### 脚本安装包

所谓的脚本安装包，就是把复杂的软件包安装过程写成了程序脚本，可以执行程序实现一键安装。但实际安装的还是源码包或二进制包。
安装简单快捷，但是完全丧失了自定义性。

## RPM命令管理

系统光盘里有大部分要用到的rpm包，挂载后就可以使用rpm安装

### 安装命令

```javascript
rpm -ivh 包全名
```

#### 选项

* `-i(install)` 安装
* `-v(verbose)` 显示详细信息
* `-h(hash)` 显示进度
* `--nodeps` 不检测依赖性

### 升级与卸载

```javascript
rpm -Uvh 包全名
```

* `-U(upgrade)` 升级

<p class="warning">如果原软件包不存在，则该命令相当于安装命令，如果存在则为升级</p>

```javascript
rpm -e 包名
```

* `-e(erase)` 卸载
* `--nodeps` 不检测依赖性

### RPM包查询

```javascript
rpm -q 包名              //查询包是否安装
rpm -qa                  //查询所有已安装的RPM包
rpm -qi 包名             //查询软件包的详细信息
rpm -ql 包名             //查询包中文件安装位置
rpm -qf 系统文件名        //查询系统文件属于哪个包
rpm -qR 包名             //查询软件包的依赖性
```

* `-p` 查询未安装包的信息

### RPM包校验